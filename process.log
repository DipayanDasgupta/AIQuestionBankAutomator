Starting augmentation for: AP Calculus AB/BC - Chapter 1: Limits and Continuity
Loaded 4 Gemini API keys. Cooldown set to 13 seconds.
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/dipayan/AIQuestionBankAutomator/scripts/run_pipeline.py", line 261, in <module>
    run_augmentation_for_chapter(info['Subject'], info['PDF_File'], info['Chapter'], int(info['Start_Page']), int(info['End_Page']))
  File "/home/dipayan/AIQuestionBankAutomator/scripts/run_pipeline.py", line 149, in run_augmentation_for_chapter
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/dipayan/AIQuestionBankAutomator/scripts/run_pipeline.py", line 34, in get_db_connection
    conn.execute("PRAGMA journal_mode=WAL")
sqlite3.OperationalError: database is locked
        --> Saved 6 variants for parent ID 33.
      -> Augmenting parent question 3/4...
    --> Attempting API call with Key Index 2 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 34.
      -> Augmenting parent question 4/4...
    --> Attempting API call with Key Index 3 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 35.
  Processing Page 22/27...
    --> Attempting API call with Key Index 0 (Attempt 1/3)...
    --> Found 3 parent questions on page 22.
      -> Augmenting parent question 1/3...
    --> Cooldown active. Waiting for 5.53 seconds...
    --> Attempting API call with Key Index 1 (Attempt 1/3)...
        --> FAILED to decode JSON from augment response for parent ID 36.
      -> Augmenting parent question 2/3...
    --> Attempting API call with Key Index 2 (Attempt 1/3)...
        --> FAILED to decode JSON from augment response for parent ID 37.
      -> Augmenting parent question 3/3...
    --> Attempting API call with Key Index 3 (Attempt 1/3)...
        --> FAILED to decode JSON from augment response for parent ID 38.
  Processing Page 23/27...
    --> Attempting API call with Key Index 0 (Attempt 1/3)...
    --> Found 4 parent questions on page 23.
      -> Augmenting parent question 1/4...
    --> Cooldown active. Waiting for 6.98 seconds...
    --> Attempting API call with Key Index 1 (Attempt 1/3)...
        --> FAILED to decode JSON from augment response for parent ID 39.
      -> Augmenting parent question 2/4...
    --> Attempting API call with Key Index 2 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 40.
      -> Augmenting parent question 3/4...
    --> Attempting API call with Key Index 3 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 41.
      -> Augmenting parent question 4/4...
    --> Attempting API call with Key Index 0 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 42.
  Processing Page 24/27...
    --> Attempting API call with Key Index 1 (Attempt 1/3)...
    --> Found 5 parent questions on page 24.
      -> Augmenting parent question 1/5...
    --> Attempting API call with Key Index 2 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 43.
      -> Augmenting parent question 2/5...
    --> Attempting API call with Key Index 3 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 44.
      -> Augmenting parent question 3/5...
    --> Attempting API call with Key Index 0 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 45.
      -> Augmenting parent question 4/5...
    --> Attempting API call with Key Index 1 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 46.
      -> Augmenting parent question 5/5...
    --> Attempting API call with Key Index 2 (Attempt 1/3)...
        --> FAILED to decode JSON from augment response for parent ID 47.
  Processing Page 25/27...
    --> Attempting API call with Key Index 3 (Attempt 1/3)...
    --> Found 2 parent questions on page 25.
      -> Augmenting parent question 1/2...
    --> Attempting API call with Key Index 0 (Attempt 1/3)...
        --> Saved 6 variants for parent ID 48.
      -> Augmenting parent question 2/2...
    --> Attempting API call with Key Index 1 (Attempt 1/3)...
        --> FAILED to decode JSON from augment response for parent ID 49.
  Processing Page 26/27...
  Processing Page 27/27...

--- Augmentation for chapter complete. ---
